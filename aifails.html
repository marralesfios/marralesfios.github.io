<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <link rel="stylesheet" href="page.css">
        <link rel="stylesheet" href="article.css">
        <title>AI Fails</title>
        <script type="module" src="article.js"></script>
        <style>
            p>img{
                display: block;
            }
            code{
                white-space: pre;
            }
            .code-insert{
                font-family: serif;
                color: gray;
            }
        </style>
    </head>
    <body>
        <div>
            <blockquote id="quote">
                Artificial "Intelligence" is an insult to computers.
            </blockquote>
            <p class="source">â€” maf</p>    
        </div>
        <main>
            <button id="light">Light switch</button>
            <div id="accentbox">
                <label for="accent">color:</label>
                <input type="text" id="accent" autocomplete="off">
            </div>
            <h1>AI Fails</h1>
            <p>
Here are some question that AI still can't answer correctly. If AI technology has improved, please drop me an email so I can update the page. (NOTE: sometimes the AI mistakes are intermittent/random, so please test multiple times!)
            </p>
            <ul>
                <li>
                    <h2>What does 8D C0 in x86 machine code do?</h2>
                    <a href="https://chatgpt.com/share/69781fff-6ecc-8000-82ec-803c4526f006">ChatGPT</a>
                    <p>
ChatGPT says that this instruction is a NOP, which is wrong. The <a href="https://www.felixcloutier.com/x86/lea">LEA</a> instruction takes a register and a memory address. The following is an excerpt from the <a href="https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html">Intel SDM</a>: <img src="32bitamode.png" width="441.2" height="427.2">
As you can see, ModR/M byte C0 corresponds to the register argument EAX (from the cell containing C0, go up to the top header) and the register or memory argument (read left, to the column that says "Effective Address") of register EAX. Notably, EAX is a register, not a memory address, so this instruction is invalid. Reading from the "Protected Mode Exceptions" table for the LEA instruction, we see that exception #UD (invalid instruction) is raised in this case. In effect, this is the same as the <code>UD2</code> instruction, not <code>NOP</code>.
                    </p>
                </li>
                <li>
                    <h2>Does the following Python code crash? If so, how? If not, what's the output?</h2>
                    <code lang="python3">try:
    raise Exception()
except Exception as __builtins__:
    pass
print(type(__builtins__))</code>
                    <a href="https://chatgpt.com/share/6980b8b6-f628-8000-b3fb-b9bb279badf8">ChatGPT</a>
                    <p>
ChatGPT claims that <samp lang="python3">&lt;class 'Exception'&gt;</samp> would be printed, since the <code lang="python3">except Exception as __builtins__:</code> line is run and assigns the resulting exception object to <code lang="python3">__builtins__</code>. This is true, however at the end of an exception handler clause, Python runs the equivalent of <code lang="python3">del <i class="code-insert">excCapture</i></code>, as a bandaid for not having proper scopes for exception handlers. This causes the shadowing <code lang="python3">__builtins__</code> to be deleted, and interestingly* (at least on CPython), replaces the global <code lang="python3">__builtins__</code> object with its instance dict, as if <code lang="python3">__builtins__ = vars(__builtins__)</code> has been run. Thus, <samp lang="python3">&lt;class 'dict'&gt;</samp> is the final output.
                    </p>
                    <p><small>* I've done some more research, and it seems that the dict <code lang="python3">__builtins__</code> is always there, but in the <code lang="python3">__main__</code> module and there only, the equivalent of <code lang="python3">import builtins as __builtins__</code> has been run before your code executes. In any case, <code lang="python3">del</code>-eting the dict multiple times won't cause a crash and so whether you're in the main module doesn't actually affect the outcome.</small></p>
                </li>
            </ul>
        </main>
    </body>
</html>
